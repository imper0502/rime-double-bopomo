# Rime schema
# encoding: utf-8

schema:
  schema_id: double_bopomo
  name: "é›™ç¢¼æ³¨éŸ³"
  version: "1.2"
  author:
    - imper0502 <yoj845@gmail.com>
  description: |
    æ³¨éŸ³çš„é›™æ‹¼æ–¹æ¡ˆã€‚
    
    æœƒæ³¨éŸ³å°±å¯ä»¥å­¸æœƒï¼Œä¸éœ€é¡å¤–å­¸ç¿’æ¼¢èªæ‹¼éŸ³ã€‚
    -----------------------------------------
    ã„§ã„¨ã„©åœ¨ IUYï¼›E ç•¶ã€‡è²æ¯
    ç‚ºäº†å’Œã€Œåœ°çƒæ‹¼éŸ³ã€ã€ã€Œæ³¨éŸ³ã€‚è‡ºç£æ­£é«”ã€ å…±ç”¨è©åº«ï¼Œæ‰€ä»¥ä¾è³´åœ°çƒæ‹¼éŸ³çš„è©åº«ã€‚
    æœªä¾†ä¹Ÿè¨±æœƒæœ‰é›™ç¢¼æ‹¼éŸ³å°ˆç”¨çš„è©åº«å§
    -----------------------------------------
    layout version: 20191031A

  dependencies:
    - cangjie5
    - terra_pinyin

switches:
  - name: ascii_mode
    reset: 0
    states: [ "ä¸­", "En" ]
  - name: full_shape
    states: [ "åŠå½¢", "å…¨å½¢" ]
  - name: ascii_punct
    reset: 0
    states: [ "ã€‚ï¼Œ", "ï¼ï¼Œ" ]
  - name: extended_charset
    reset: 1
  - name: t2tw
    reset: 1
    # å•“ç”¨ opencc å­—å½¢è½‰æ›ï¼Œä½†ä¸åœ¨é¸å–®ä¸­é¡¯ç¤ºã€‚æ­£ â†’ è‡º
    # states: [ "å‚³æ‰¿å­—", "æ¨™æº–å­—" ]
  - name: s2tw
    reset: 1
    # å•“ç”¨ opencc å­—å½¢è½‰æ›ï¼Œä½†ä¸åœ¨é¸å–®ä¸­é¡¯ç¤ºã€‚ç°¡ â†’ è‡º
    # states: [ "ç®€åŒ–å­—", "æ¨™æº–å­—" ]
    
engine:
  processors:
    - key_binder
    - ascii_composer
    - recognizer
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - affix_segmentor@abbreviation
    - abc_segmentor
    - punct_segmentor
    - fallback_segmentor
  translators:
    - echo_translator
    - punct_translator
    # - script_translator
    - table_translator
    - script_translator@abbreviation
    - table_translator@custom_phrase
  filters:
    - simplifier@t2tw  # æ­£ç¹è½‰æ›
    - simplifier@s2tw  # ç°¡ç¹è½‰æ›
    - uniquifier       # éæ¿¾é‡è¤‡çš„å€™é¸å­—ï¼Œæœ‰å¯èƒ½ä¾†è‡ªç°¡æ­£ç¹è½‰æ›
    # - cjk_minifier        # æœ€æ–°ç‰ˆå·²åˆªé™¤è©²åŠŸèƒ½ï¼›å­—ç¬¦é›†éæ¿¾ï¼šç”¨æ–¼script_translatorï¼Œä½¿ä¹‹æ”¯æ´extended_charseté–‹é—œ
    # - charset_filter@big5 # æœ€æ–°ç‰ˆå·²åˆªé™¤è©²åŠŸèƒ½
    # - charset_filter@gbk  # æœ€æ–°ç‰ˆå·²åˆªé™¤è©²åŠŸèƒ½
    - reverse_lookup_filter@comment_bopomo
    - reverse_lookup_filter@comment_cangjie
    - reverse_lookup_filter@comment_pinyin

menu:
  alternative_select_keys: 67890
 
speller:
  alphabet: "bpmfdtnlgkhjqxvwarzcsiuyoe12345IUYAOEQHWSRKDJFL;"
  initials: "bpmfdtnlgkhjqxvwarzcsiuyoeIUYAOEQHWSRKDJFL"
  finals: "12345"
  delimiter: " '"
  algebra:
  # é è™•ç†
    - erase/^xx$/          # ç§»é™¤ã€xxã€‘ç·¨ç¢¼
    - xform/^m(\d)$/mu$1/  # ã„‡èª¿ â†’ ã„‡ã„¨èª¿
    - xform/^r5$/er5/      # ã€œå…’
    - xform/v/Ã¼/           # v â†’ Ã¼/
    - xform/iu/iou/        # è£œä¸Šæ¼éŸ³
    - xform/ui/uei/        # è£œä¸Šæ¼éŸ³
    - xform/iong/Ã¼ng/      # [jqx]iong â†’ [jqx]Ã¼ng
    - xform/ong/ung/       # yong, -ong â†’ yung, -ung
    - xform/^yu/Ã¼/         # yue, yuan, yun, yung  â†’ Ã¼e, Ã¼an, Ã¼n, Ã¼ng
    - xform/^yi?/i/        # yi, y- â†’ i, i-
    - xform/^wu?/u/        # wu, w- â†’ u, u-
    - xform/^([jqx])u/$1Ã¼/ # å–æ¶ˆã„ã„‘ã„’çš„çœç•¥è¡¨ç¤ºæ³•
    - xform/([iuÃ¼])n/$1en/ # in, ing, un, ung, Ã¼n, Ã¼ng â†’ ien, ieng, uen, ueng, Ã¼en, Ã¼eng
  # é–‹å§‹è½‰æ›è¼¸å…¥éµ
    # ä¸‰å€‹ã€ŒäºŒåˆè²æ¯ã€ã„“ã„”ã„•
    - xform/^zh/A/
    - xform/^ch/V/
    - xform/^sh/O/
    # å…©å€‹ã€Œä¸‰åˆéŸ»æ¯ã€ã„¤ã„¥
    - xform/ang/J/
    - xform/eng/F/
    # å…­å€‹ã€ŒäºŒåˆéŸ»æ¯ã€ã„ã„Ÿã„ ã„¡ã„¢ã„£
    - xform/ai/H/
    - xform/ei/W/
    - xform/ao/S/
    - xform/ou/R/
    - xform/an/K/
    - xform/en/D/
    # ã„¦åŠã„
    - xform/er/L/
    - xform/eh/Q/
    - xform/(?<=[iÃ¼])e/Q/
    # åˆ°æ­¤ï¼Œã€terra pinyinã€‘â†’ã€bopomofoã€‘
  # è¼¸å…¥éµè½‰æ›
    - xlit/AVO/avo/  # è²æ¯ä¸€å¾‹å°å¯«
    - xform/Ã¼/y/     # `Yéµ`è¼¸å…¥Ã¼
    - xlit/QHWSRKDJFL/qhwsrkdjfl/  # éŸ»æ¯ä¹Ÿä¸€å¾‹å°å¯«
  # ä½¿ç”¨é›¶è²æ¯è¡¨ç¤ºéŸ»æ¯ç¨ç«‹éŸ³ç¯€ï¼›ä¹Ÿç”¨å¤§å¯«è¡¨ç¤ºéŸ»æ¯ç¨ç«‹éŸ³ç¯€
    - derive/^i(?=\d)/I/
    - derive/^u(?=\d)/U/
    - derive/^y(?=\d)/Y/
    - derive/^a(?=\d)/A/
    - derive/^o(?=\d)/O/
    - derive/^e(?=\d)/E/
    - derive/^q(?=\d)/Q/
    - derive/^h(?=\d)/H/
    - derive/^w(?=\d)/W/
    - derive/^s(?=\d)/S/
    - derive/^r(?=\d)/R/
    - derive/^k(?=\d)/K/
    - derive/^d(?=\d)/D/
    - derive/^j(?=\d)/J/
    - derive/^f(?=\d)/F/
    - derive/^l(?=\d)/L/
    - xform/^([iuyaoeqhwsrkdjfl]\d)/e$1/
    # åˆ°æ­¤ï¼ŒåŸºæœ¬æ‹¼å¯«è¦å‰‡å®Œæˆ
  # é€²éšçš„æ‹¼å¯«è¦å‰‡ï¼Œä½¿ç”¨æ›´æ–¹ä¾¿
    - derive/^x([iy])/f$1/           # ã„ˆã„’å…±ç”¨`Féµ`
    - derive/^([avorzcs])i(\d)/$1$2/ # ã„“ã„”ã„•ã„–ã„—ã„˜ã„™çš„éŸ»æ¯å¯ä»¥çœç•¥
    - derive/^z([a-z]*[1-5])/w$1/    # `Wéµ`ä¹Ÿå¯ä»¥è¼¸å…¥ã„—
    - derive/^e([iuy])(\d)/$1$2/     # ä»‹éŸ³æœ‰è²èª¿æ™‚ï¼Œä¸éœ€å‰ç¶´é›¶è²æ¯
    - derive/(?<=[eiy])q(?=\d)/e/    # ã„ã„œå…±ç”¨`Eéµ`
  # å®šä½çµåˆéŸ»æ¯
    # å·¦æ‰‹ä¸Šæ’ï¼šQWERT
    - xform/(?<=[a-z])y[qe](?=\d)/q/ # ã„©ã„
    # - xform/(?<=[a-z])w(?=\d)/w/     # ã„Ÿï¼›æœªä½œæ›´å‹•ï¼Œæ•…è¨»è§£æ­¤è¡Œ
    # - xform/(?<=[a-z])e(?=\d)/e/     # ã„œï¼›æœªä½œæ›´å‹•ï¼Œæ•…è¨»è§£æ­¤è¡Œ
    # - xform/(?<=[a-z])r(?=\d)/r/     # ã„¡ï¼›æœªä½œæ›´å‹•ï¼Œæ•…è¨»è§£æ­¤è¡Œ
    - xform/(?<=[a-z])[uy]k(?=\d)/t/ # ã„¨ã„¢ã€ã„©ã„¢
    # å·¦æ‰‹ä¸­æ’ï¼šASDFG
    # - xform/(?<=[a-z])a(?=\d)/a/     # ã„šï¼›æœªä½œæ›´å‹•ï¼Œæ•…è¨»è§£æ­¤è¡Œ
    # - xform/(?<=[a-z])s(?=\d)/s/     # ã„ ï¼›æœªä½œæ›´å‹•ï¼Œæ•…è¨»è§£æ­¤è¡Œ
    # - xform/(?<=[a-z])d(?=\d)/d/     # ã„£ï¼›æœªä½œæ›´å‹•ï¼Œæ•…è¨»è§£æ­¤è¡Œ
    # - xform/(?<=[a-z])f(?=\d)/f/     # ã„¥ï¼›æœªä½œæ›´å‹•ï¼Œæ•…è¨»è§£æ­¤è¡Œ
    - xform/(?<=[a-z])(if|uh)(?=\d)/g/ # ã„§ã„¥ã€ã„¨ã„
    # å·¦æ‰‹ä¸‹æ’ï¼šZXCVB
    - xform/(?<=[a-z])[uy]d(?=\d)/z/   # ã„¨ã„£ã€ã„©ã„£
    - xform/(?<=[a-z])[iu]a(?=\d)/x/   # ã„§ã„šã€ã„¨ã„š
    - xform/(?<=[a-z])[iu]j(?=\d)/c/   # ã„§ã„¤ã€ã„¨ã„¤
    - xform/(?<=[a-z])(id|uw)(?=\d)/v/ # ã„§ã„£ã€ã„¨ã„Ÿ
    - xform/(?<=[a-z])ir(?=\d)/b/      # ã„§ã„¡
    # å³æ‰‹ä¸Šæ’ï¼šYUIOP
    # - xform/(?<=[a-z])y(?=\d)/y/     # ã„©ï¼›æœªä½œæ›´å‹•ï¼Œæ•…è¨»è§£æ­¤è¡Œ
    # - xform/(?<=[a-z])u(?=\d)/u/     # ã„¨ï¼›æœªä½œæ›´å‹•ï¼Œæ•…è¨»è§£æ­¤è¡Œ
    # - xform/(?<=[a-z])i(?=\d)/i/     # ã„§ï¼›æœªä½œæ›´å‹•ï¼Œæ•…è¨»è§£æ­¤è¡Œ
    - xform/(?<=[a-z])u?o(?=\d)/o/   # ã„›ã€ã„¨ã„›
    - xform/(?<=[a-z])i[qe](?=\d)/p/ # ã„§ã„
    # å³æ‰‹ä¸­æ’ï¼šHJKL;
    # - xform/(?<=[a-z])h(?=\d)/h/     # ã„ï¼›æœªä½œæ›´å‹•ï¼Œæ•…è¨»è§£æ­¤è¡Œ
    # - xform/(?<=[a-z])j(?=\d)/j/     # ã„¤ï¼›æœªä½œæ›´å‹•ï¼Œæ•…è¨»è§£æ­¤è¡Œ
    # - xform/(?<=[a-z])k(?=\d)/k/     # ã„¢ï¼›æœªä½œæ›´å‹•ï¼Œæ•…è¨»è§£æ­¤è¡Œ
    - xform/(?<=[a-z])[uy]f(?=\d)/l/ # ã„¨ã„¥ã€ã„©ã„¥
      # æœ¬æ–¹æ¡ˆä¸ä½”ç”¨åˆ†è™Ÿ #
    # å³æ‰‹ä¸‹æ’ï¼šNM,./
    - xform/(?<=[a-z])is(?=\d)/n/ # ã„§ã„ 
    - xform/(?<=[a-z])ik(?=\d)/m/ # ã„§ã„¢
      # æœ¬æ–¹æ¡ˆä¸ä½”ç”¨é€—è™Ÿ #
      # æœ¬æ–¹æ¡ˆä¸ä½”ç”¨å¥è™Ÿ #
      # æœ¬æ–¹æ¡ˆä¸ä½”ç”¨"ï¼" #
    # åˆ°æ­¤ï¼Œã€Œé›™æ‹¼ + èª¿ã€å®Œæˆ
  # è¼¸å…¥è²èª¿ï¼ˆä¸ç”¨æ•¸å­—éµï¼‰
    - derive/([a-zA-Z]{1,2})1/$1;/
    - derive/([a-zA-Z]{1,2})2/$1;s/
    - derive/([a-zA-Z]{1,2})3/$1;d/
    - derive/([a-zA-Z]{1,2})4/$1;f/
    - derive/([a-zA-Z]{1,2})5/$1;g/
  # çœç•¥è²èª¿
    - derive/([a-z]{2})\d/$1/
  # è¨­å®šç°¡æ‹¼ï¼ˆabbrevï¼‰ã€ç•¥æ‹¼ï¼ˆfuzzï¼‰
    - fuzz/[A-Z]\d/$0/
    - fuzz/([A-Z])\d/$1/
    - fuzz/([a-z])[a-z]\d/$1/
    - fuzz/([a-z])[a-z](\d)/$1$2/

translator:
  strict_spelling: true  # å½±éŸ¿ speller ä¸­ï¼Œfuzzé‹ç®—çš„è¡Œçˆ²ã€‚
  spelling_hints: 3
  dictionary: terra_pinyin
  prism: double_bopomo
  preedit_format:
  # é›™æ‹¼åé‹ç®—åˆ°æ³¨éŸ³
    # åç®—è²èª¿
    - xform/([a-zA-Z]{1,2});g/$1_5/
    - xform/([a-zA-Z]{1,2});f/$1_4/
    - xform/([a-zA-Z]{1,2});d/$1_3/
    - xform/([a-zA-Z]{1,2});s/$1_2/
    - xform/([a-zA-Z]{1,2});/$1_1/
    - xform/_//
    #
    - xform/(?<=[jqx])[kt]/YK/   # ã„ã„‘ã„’ + ã„¢ = ã„ã„‘ã„’ + ã„©ã„¢
    - xform/(?<=[jqx])[dz]/YD/   # ã„ã„‘ã„’ + ã„£ = ã„ã„‘ã„’ + ã„©ã„£
    - xform/(?<=[jqx])[fl]/YF/   # ã„ã„‘ã„’ + ã„¥ = ã„ã„‘ã„’ + ã„©ã„¥
    - xform/(?<=[jqx])[ax]/IA/   # ã„ã„‘ã„’ + ã„š = ã„ã„‘ã„’ + ã„§ã„š
    - xform/(?<=[jqx])[sn]/IS/   # ã„ã„‘ã„’ + ã„  = ã„ã„‘ã„’ + ã„§ã„ 
    - xform/(?<=[jqx])[rb]/IR/   # ã„ã„‘ã„’ + ã„¡ = ã„ã„‘ã„’ + ã„§ã„¡
    - xform/(?<=[jqx])[jc]/IJ/   # ã„ã„‘ã„’ + ã„¤ = ã„ã„‘ã„’ + ã„§ã„¤
    - xform/(?<=f)t/YK/     # ã„’ã„©ã„¢
    - xform/(?<=f)z/YD/     # ã„’ã„©ã„£
    - xform/(?<=f)c/IJ/     # ã„’ã„§ã„¤
    - xform/(?<=f)l/YF/     # ã„’ã„©ã„¥
    # å³ä¸‹
    - xform/(?<=[a-z])n/IS/ # ã„§ã„ 
    - xform/(?<=[a-z])m/IK/ # ã„§ã„¢
    # å³ä¸­
    - xform/(?<=[a-z])h/H/     # ã„
    - xform/(?<=[a-z])j/J/     # ã„¤
    - xform/(?<=[a-z])k/K/     # ã„¢
    - xform/(?<=[a-z])l/UF/    # ã„¨ã„¥
    # å³ä¸‹
    - xform/(?<=[a-z])y/Y/     # ã„©
    - xform/(?<=[a-z])u/U/     # ã„¨
    - xform/(?<=[a-z])i/I/     # ã„§
    - xform/(?<=[dtnlgkhavorzcsw])o/UO/  # ã„¨ã„›
    - xform/(?<=[a-z])o/O/  # ã„›
    - xform/(?<=[a-z])p/IQ/ # ã„§ã„
    #
    - xform/(?<=[a-z])z/UD/   # ã„¨ã„£
    - xform/(?<=[lf])x/IA/    # ã„§ã„š
    - xform/(?<=[a-z])x/UA/   # ã„¨ã„š
    - xform/(?<=[a-z])c/UJ/   # ã„¨ã„¤
    - xform/(?<=[dtgkhZCSrzcs])v/UW/ # ã„¨ã„Ÿ
    - xform/(?<=[a-z])v/ID/   # ã„§ã„£
    - xform/(?<=[a-z])b/IR/   # ã„§ã„¡
    #
    - xform/(?<=[a-z])a/A/     # ã„š
    - xform/(?<=[a-z])s/S/     # ã„ 
    - xform/(?<=[a-z])d/D/     # ã„£
    - xform/(?<=[a-z])f/F/     # ã„¥
    - xform/(?<=[gkhZCS])g/UH/ # ã„¨ã„
    - xform/(?<=[a-z])g/IF/    # ã„§ã„¥
    #
    - xform/(?<=[a-z])q/YQ/    # ã„©ã„
    - xform/(?<=[a-z])w/W/     # ã„Ÿ
    - xform/(?<=[a-z])e/E/     # ã„œ
    - xform/(?<=[a-z])r/R/     # ã„¡
    - xform/(?<=[a-z])t/UK/    # ã„¨ã„¢
    #
    - xform/f(?=[IY])/x/
    # - xform/([ '])[ ']+/$1/
    - xform/(?<=[bpmfdtnlgkhjqxavorzcsiuy])$/â—Œ/
    - xform/(?<=[avorzcsw])I$/ğŸ˜¬/
    - xform/(?<=[avorzcsw])I//
    - xlit/bpmfdtnlgkhjqxavorzcseiuyw/ã„…ã„†ã„‡ã„ˆã„‰ã„Šã„‹ã„Œã„ã„ã„ã„ã„‘ã„’ã„“ã„”ã„•ã„–ã„—ã„˜ã„™â—Œã„§ã„¨ã„©ã„—/
    - xlit/IUYAOEQHWSRKDJFL 12345/ã„§ã„¨ã„©ã„šã„›ã„œã„ã„ã„Ÿã„ ã„¡ã„¢ã„£ã„¤ã„¥ã„¦ã€€Ë‰ËŠË‡Ë‹Ë™/
    # - xform/â—Œâ—Œ$/â—Œ/
    - xform/â—Œ(?!$)//
  comment_format:          # æç¤ºé›™æ‹¼æŒ‰éµï¼šF = x çš„æç¤ºè¦æ³¨æ„
  # åœ¨ `comment_format` åº•ä¸‹ï¼Œxform = derive é‹ç®—
    - erase/^xx$/          # ç§»é™¤ã€xxã€‘ç·¨ç¢¼
    - xform/(^| )m(\d)/$1mu$2/  # ã„‡èª¿ â†’ ã„‡ã„¨èª¿
    - xform/(^| )r5$/$1er5/      # ã€œå…’
    - xform/v/Ã¼/           # v â†’ Ã¼/
    - xform/iu/iou/        # è£œä¸Šæ¼éŸ³
    - xform/ui/uei/        # è£œä¸Šæ¼éŸ³
    - xform/iong/Ã¼ng/      # [jqx]iong â†’ [jqx]Ã¼ng
    - xform/ong/ung/       # yong, -ong â†’ yung, -ung
    - xform/(^| )yu/$1Ã¼/     # yue, yuan, yun, yung  â†’ Ã¼e, Ã¼an, Ã¼n, Ã¼ng
    - xform/(^| )yi?/$1i/    # yi, y- â†’ i, i-
    - xform/(^| )wu?/$1u/    # wu, w- â†’ u, u-
    - xform/^([jqx])u/$1Ã¼/ # å–æ¶ˆã„ã„‘ã„’çš„çœç•¥è¡¨ç¤ºæ³•
    - xform/(?<=[iuÃ¼])n/en/ # in, ing, un, ung, Ã¼n, Ã¼ng â†’ ien, ieng, uen, ueng, Ã¼en, Ã¼eng
    - xform/(^| )zh/$1A/
    - xform/(^| )ch/$1V/
    - xform/(^| )sh/$1O/
    - xform/ang/J/
    - xform/eng/F/
    - xform/ai/H/
    - xform/ei/W/
    - xform/ao/S/
    - xform/ou/R/
    - xform/an/K/
    - xform/en/D/
    - xform/er/L/
    - xform/eh/Q/
    - xform/([iÃ¼])e/$1Q/
    - xlit/AVO/avo/  # è²æ¯ä¸€å¾‹å°å¯«
    - xform/Ã¼/y/     # `Yéµ`è¼¸å…¥Ã¼
    - xlit/QHWSRKDJFL/qhwsrkdjfl/  # éŸ»æ¯ä¹Ÿä¸€å¾‹å°å¯«
    - xform/(^| )(?=[iuyaoeqhwsrkdjfl]\d)/$1e/
    - xform/(^| )x(?<=[iy])/$1f/           # ã„ˆã„’å…±ç”¨`Féµ`
    - xform/(^| )z([a-z]*[1-5])/$1w$2/    # `Wéµ`ä¹Ÿå¯ä»¥è¼¸å…¥ã„—
    - xform/(?<=[eiy])q(?=\d)/e/     # ã„ã„œå…±ç”¨`Eéµ`
    - xform/(?<=[a-z])y[qe](?=\d)/q/ # ã„©ã„
    - xform/(?<=[a-z])[uy]k(?=\d)/t/ # ã„¨ã„¢ã€ã„©ã„¢
    - xform/(?<=[a-z])(if|uh)(?=\d)/g/ # ã„§ã„¥ã€ã„¨ã„
    - xform/(?<=[a-z])[uy]d(?=\d)/z/   # ã„¨ã„£ã€ã„©ã„£
    - xform/(?<=[a-z])[iu]a(?=\d)/x/   # ã„§ã„šã€ã„¨ã„š
    - xform/(?<=[a-z])[iu]j(?=\d)/c/   # ã„§ã„¤ã€ã„¨ã„¤
    - xform/(?<=[a-z])(id|uw)(?=\d)/v/ # ã„§ã„£ã€ã„¨ã„Ÿ
    - xform/(?<=[a-z])ir(?=\d)/b/      # ã„§ã„¡
    - xform/(?<=[a-z])u?o(?=\d)/o/   # ã„›ã€ã„¨ã„›
    - xform/(?<=[a-z])i[qe](?=\d)/p/ # ã„§ã„
    - xform/(?<=[a-z])[uy]f(?=\d)/l/ # ã„¨ã„¥ã€ã„©ã„¥
    - xform/(?<=[a-z])is(?=\d)/n/ # ã„§ã„ 
    - xform/(?<=[a-z])ik(?=\d)/m/ # ã„§ã„¢
    - xform/(?<=[jqx])t/k/  # ã„ã„‘ã„’ + ã„¢ = ã„ã„‘ã„’ + ã„©ã„¢
    - xform/(?<=[jqx])z/d/  # ã„ã„‘ã„’ + ã„£ = ã„ã„‘ã„’ + ã„©ã„£
    - xform/(?<=[jqx])l/f/  # ã„ã„‘ã„’ + ã„¥ = ã„ã„‘ã„’ + ã„©ã„¥
    # åˆ°æ­¤ï¼Œé›™ç¢¼æ³¨éŸ³æœ€ä½³æŒ‡æ³• + ä»¥æ•¸å­—è¡¨ç¤ºçš„è²èª¿
    - xform/([a-zA-Z]{1,2})\d/$1 /  # ç§»é™¤æ•¸å­—è²èª¿ï¼›è‹¥è¨»è§£æ­¤è¡Œï¼Œå‰‡æç¤ºè¼¸å…¥è²èª¿æ™‚çš„æŒ‰éµï¼ˆéæ•¸å­—ï¼‰
    - xform/^([avorzcs])i(\d)/$1$2/ # ã„“ã„”ã„•ã„–ã„—ã„˜ã„™æœ‰è²èª¿æ™‚ï¼ŒéŸ»æ¯å¯ä»¥çœç•¥
    - xform/^e([iuy]\d)/$1/         # ä»‹éŸ³æœ‰è²èª¿æ™‚ï¼Œä¸éœ€å‰ç¶´é›¶è²æ¯
    - xform/([a-zA-Z]{1,2})5/$1;g /
    - xform/([a-zA-Z]{1,2})4/$1;f /
    - xform/([a-zA-Z]{1,2})3/$1;d /
    - xform/([a-zA-Z]{1,2})2/$1;s /
    - xform/([a-zA-Z]{1,2})1/$1; /
    
affix_segmentor@abbreviation:
  extra_tags:
    - reverse_lookup

abbreviation:
  tag: abbreviation
  dictionary: terra_pinyin
  prism:  abbreviated_bopomo
  prefix: ","
  tips: "ã€ç°¡æ‹¼æ¨¡å¼ã€‘"
  suffix: "'"
  closing_tips: "ã€é›™ç¢¼æ³¨éŸ³ã€‘"
  disable_user_dict_for_patterns: false # ç¦æ­¢æŸäº›ç·¨ç¢¼éŒ„å…¥ç”¨æˆ¶è©å…¸
  enable_sentence:  false               # æ˜¯å¦é–‹å•“è‡ªå‹•é€ å¥
  enable_user_dict: false               # æ˜¯å¦é–‹å•“ç”¨æˆ¶è©å…¸ã€”ç”¨æˆ¶è©å…¸è¨˜éŒ„å‹•æ…‹å­—è©é »ã€ç”¨æˆ¶è©ã€•
  enable_charset_filter: true           # æ˜¯å¦é–‹å•“å­—ç¬¦é›†éæ¿¾
  preedit_format:
    - xlit/bpmfdtnlgkhjqxavorzcseiuy/ã„…ã„†ã„‡ã„ˆã„‰ã„Šã„‹ã„Œã„ã„ã„ã„ã„‘ã„’ã„“ã„”ã„•ã„–ã„—ã„˜ã„™â—Œã„§ã„¨ã„©/
    - xlit/IUYAOEQHWSRKDJFL12345/ã„§ã„¨ã„©ã„šã„›ã„œã„ã„ã„Ÿã„ ã„¡ã„¢ã„£ã„¤ã„¥ã„¦Ë‰ËŠË‡Ë‹Ë™/
    - xform/$/ã€ç°¡æ‹¼ã€‘/
    - xform/1(?!$)//

custom_phrase:
  dictionary: ""
  user_dict: custom_phrase
  db_class: stabledb
  enable_completion: false
  enable_sentence: false
  initial_quality: 1

# big5:
  # option_name: big5
  # charset: big5

# gbk:
  # option_name: gbk
  # charset: gbk

t2tw: # æ­£ç¹è½‰æ›
  option_name: t2tw
  opencc_config: t2tw.json
  show_in_comment: true
  tips: char

s2tw: # ç°¡ç¹è½‰æ›
  option_name: s2tw
  opencc_config: s2tw.json
  show_in_comment: true
  tips: char

punctuator:
  import_preset: symbols
  full_shape:
    '<' : [ '<', 'ã€Š', 'ã€ˆ', 'Â«', 'â€¹' ]
    '>' : [ '>', 'ã€‹', 'ã€‰', 'Â»', 'â€º' ]
    '$' : [ 'NT$', '$', 'â‚¬', 'Â£', 'Â¥', 'Â¢', 'Â¤' ]
  half_shape:
    '<' : [ '<', 'ã€Š', 'ã€ˆ', 'Â«', 'â€¹' ]
    '>' : [ '>', 'ã€‹', 'ã€‰', 'Â»', 'â€º' ]
    '$' : [ 'NT$', '$', 'â‚¬', 'Â£', 'Â¥', 'Â¢', 'Â¤' ]

key_binder:
  import_preset: default

recognizer:
  import_preset: default
  patterns:
    abbreviation: ",[a-zIUYAOEQHWSRKDJFL1-5]*'?$"
    email: "^[a-z][-_.0-9a-z]*@.*$"
    punct: "^/([0-9]0?|[A-Za-z]+)$"
    # uppercase: "^[A-Z][-_+.'0-9A-Za-z]*$"
    url: "^(www[.]|https?:|ftp:|mailto:).*$"

comment_bopomo:
  tags: [ none ]
  overwrite_comment: true
  dictionary: terra_pinyin
  comment_format:
    - xform/e?r5$/er5/
    - xform/iu/iou/
    - xform/ui/uei/
    - xform/ong/ung/
    - xform/(^|[ ])yi?/$1i/
    - xform/(^|[ ])wu?/$1u/
    - xform/iu/v/
    - xform/(^|[ ])([jqx])u/$1$2v/
    - xform/([iuv])n/$1en/
    - xform/zh/Z/
    - xform/ch/C/
    - xform/sh/S/
    - xform/ai/A/
    - xform/ei/I/
    - xform/ao/O/
    - xform/ou/U/
    - xform/ang/K/
    - xform/eng/G/
    - xform/an/M/
    - xform/en/N/
    - xform/er/R/
    - xform/eh/E/
    - xform/([iv])e/$1E/
    - xform/1//
    - xform/([a-zA-Z]+)5/5$1/
    - xform/([a-zA-Z1-5]+)($|[ ])/ã€”$1ã€•/
    - xform/([ZCSr])i(\d*)/$1$2/
    - xform/([zcs])i(\d*)/$1$2/
    - xlit/bpmfdtnlgkhjqxZCSrzcsiuvaoeEAIOUMNKGR2345/ã„…ã„†ã„‡ã„ˆã„‰ã„Šã„‹ã„Œã„ã„ã„ã„ã„‘ã„’ã„“ã„”ã„•ã„–ã„—ã„˜ã„™ã„§ã„¨ã„©ã„šã„›ã„œã„ã„ã„Ÿã„ ã„¡ã„¢ã„£ã„¤ã„¥ã„¦ËŠË‡Ë‹Ë™/

comment_cangjie:
  tags: [ none ]
  overwrite_comment: false
  dictionary: cangjie5
  comment_format:
    - xform/([^ ]+)($|[ ])/ã€”$1ã€•/
    - xlit|abcdefghijklmnopqrstuvwxyz|æ—¥æœˆé‡‘æœ¨æ°´ç«åœŸç«¹æˆˆåå¤§ä¸­ä¸€å¼“äººå¿ƒæ‰‹å£å°¸å»¿å±±å¥³ç”°é›£åœç¬¦|

comment_pinyin:
  tags: [ none ]
  overwrite_comment: false
  dictionary: terra_pinyin
  comment_format:
    - xform ([aeiou])(ng?|r)([1234]) $1$3$2
    - xform ([aeo])([iuo])([1234]) $1$3$2
    - xform a1 Ä
    - xform a2 Ã¡
    - xform a3 Ç
    - xform a4 Ã 
    - xform e1 Ä“
    - xform e2 Ã©
    - xform e3 Ä›
    - xform e4 Ã¨
    - xform o1 Å
    - xform o2 Ã³
    - xform o3 Ç’
    - xform o4 Ã²
    - xform i1 Ä«
    - xform i2 Ã­
    - xform i3 Ç
    - xform i4 Ã¬
    - xform u1 Å«
    - xform u2 Ãº
    - xform u3 Ç”
    - xform u4 Ã¹
    - xform v1 Ç–
    - xform v2 Ç˜
    - xform v3 Çš
    - xform v4 Çœ
    - xform/([nljqxy])v/$1Ã¼/
    - xform/eh[0-5]?/Ãª/
    - xform/([a-z]+)[0-5]/$1/
    - xform/(.+)($|[ ])/ã€”$1ã€•/
